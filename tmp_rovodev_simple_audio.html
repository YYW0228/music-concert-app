<!-- ç®€åŒ–çš„éŸ³é¢‘æµ‹è¯•é¡µé¢ -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŸ³é¢‘æµ‹è¯•</title>
</head>
<body>
    <h1>ğŸµ ç®€åŒ–éŸ³é¢‘æµ‹è¯•</h1>
    
    <!-- æç®€éŸ³é¢‘é…ç½® -->
    <audio id="bg-music" controls>
        <source src="./static/audio/tenkuu-no-shiro-piano.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
    </audio>
    
    <br><br>
    <button onclick="testAudio()">ğŸ”§ æµ‹è¯•æ’­æ”¾</button>
    <button onclick="checkAudioInfo()">ğŸ“Š æ£€æŸ¥éŸ³é¢‘ä¿¡æ¯</button>
    
    <div id="debug-info" style="margin-top: 20px; background: #f0f0f0; padding: 10px; border-radius: 5px;"></div>
    
    <script>
        const audio = document.getElementById('bg-music');
        const debugDiv = document.getElementById('debug-info');
        
        function log(message) {
            console.log(message);
            debugDiv.innerHTML += message + '<br>';
        }
        
        function testAudio() {
            log('ğŸ”§ å¼€å§‹æµ‹è¯•éŸ³é¢‘æ’­æ”¾...');
            
            audio.play().then(() => {
                log('âœ… éŸ³é¢‘æ’­æ”¾æˆåŠŸï¼');
            }).catch(e => {
                log('âŒ éŸ³é¢‘æ’­æ”¾å¤±è´¥: ' + e.message);
            });
        }
        
        function checkAudioInfo() {
            log('ğŸ“Š éŸ³é¢‘ä¿¡æ¯æ£€æŸ¥:');
            log('- éŸ³é¢‘å…ƒç´ : ' + (audio ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨'));
            log('- å½“å‰æº: ' + (audio.currentSrc || audio.src || 'æ— '));
            log('- æ—¶é•¿: ' + audio.duration + ' ç§’');
            log('- å½“å‰æ—¶é—´: ' + audio.currentTime + ' ç§’');
            log('- éŸ³é‡: ' + audio.volume);
            log('- é™éŸ³: ' + audio.muted);
            log('- å‡†å¤‡çŠ¶æ€: ' + audio.readyState);
            log('- ç½‘ç»œçŠ¶æ€: ' + audio.networkState);
            log('- é”™è¯¯: ' + (audio.error ? audio.error.code + ':' + audio.error.message : 'æ— '));
        }
        
        // éŸ³é¢‘äº‹ä»¶ç›‘å¬
        audio.addEventListener('loadstart', () => log('âœ… loadstart - å¼€å§‹åŠ è½½'));
        audio.addEventListener('loadedmetadata', () => log('âœ… loadedmetadata - å…ƒæ•°æ®åŠ è½½å®Œæˆ'));
        audio.addEventListener('canplay', () => log('âœ… canplay - å¯ä»¥æ’­æ”¾'));
        audio.addEventListener('error', (e) => {
            log('âŒ éŸ³é¢‘é”™è¯¯: ' + (audio.error?.code || 'æœªçŸ¥') + ' - ' + (audio.error?.message || 'æ— è¯¦ç»†ä¿¡æ¯'));
        });
        
        // è‡ªåŠ¨æ£€æŸ¥
        setTimeout(() => {
            log('ğŸ” é¡µé¢åŠ è½½å®Œæˆï¼Œè‡ªåŠ¨æ£€æŸ¥éŸ³é¢‘çŠ¶æ€:');
            checkAudioInfo();
        }, 1000);
    </script>
</body>
</html>